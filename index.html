<!DOCTYPE html>
<html>
<head>
	<title>Pomodoro Timer</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/css/bootstrap.min.css" integrity="sha512-rt/SrQ4UNIaGfDyEXZtNcyWvQeOq0QLygHluFQcSjaGB04IxWhal71tKuzP6K8eYXYB6vJV4pHkXcmFGGQ1/0w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" type="text/css" href="./style.css">
	
</head>
<body onload="template()">

	<div class="container">
		<!-- HEADING -->
		<h1 class="text-center mt-5 mb-4 head">POMODORO APP</h1>

		<!-- MAIN TIMER -->
		<div class="container timer">
			<div class="row">
				<div class="col-5">
					<h4 id="minutes">Minutes</h4>
				</div>

				<div class="col-2">
					<h4>:</h4>
				</div>

				<div class="col-5">
					<h4 id="seconds">Seconds</h4>
				</div>
			</div>
		</div>

		<!-- RESET BUTTON -->
		<div class="container control">
			<button class="btn bg-dark" onclick="start()"><i class="fas fa-play" style="color: #fff"></i></button>
			<a href="./index.html"><i class="fas fa-redo-alt"></i></a>
		</div>

		<!-- SESSION ENDED MESSAGE -->
		<div>
			<h1 id="done"></h1>
		</div>
	</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.6/umd/popper.min.js" integrity="sha512-6UofPqm0QupIL0kzS/UIzekR73/luZdC6i/kXDbWnLOJoqwklBK6519iUnShaYceJ0y4FaiPtX/hRnV/X/xlUQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.min.js" integrity="sha512-7rusk8kGPFynZWu26OKbTeI+QPoYchtxsmPeBqkHIEXJxeun4yJ4ISYe7C6sz9wdxeE1Gk3VxsIWgCZTc+vX3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/js/all.min.js" integrity="sha512-2bMhOkE/ACz21dJT8zBOMgMecNxx0d37NND803ExktKiKdSzdwn+L7i9fdccw/3V06gM/DBWKbYmQvKMdAA9Nw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="text/javascript" src="./main.js"></script>
<script type="text/javascript">
	//	DECLARING VARIABLES
let minutes = 25;
let seconds = "0 0";
let minutes_interval;
let seconds_interval;

// INTERACTIVE SOUNDS
const click = new Audio("click.mp3");
const bell = new Audio("bell.mp3");


// GETS THE MINUTE SND SECONDS ID IN THE HTML FILE AND ASSIGNS THE CORRESPONDING VARIABLE TO IT. 
function template(){
  	document.getElementById("minutes").innerHTML = minutes
	document.getElementById("seconds").innerHTML = seconds
}
function start(){
  click.play();
  minutes = 24;
  seconds = 59
  
  minutes_interval = setInterval(minutesTimer, 60000);
  seconds_interval = setInterval(secondsTimer, 1000);
  
  	document.getElementById("minutes").innerHTML = minutes
	document.getElementById("seconds").innerHTML = seconds
  
  function minutesTimer(){
    minutes = minutes-1
    document.getElementById("minutes").innerHTML = minutes
  }
  function secondsTimer(){
    seconds = seconds-1
    document.getElementById("seconds").innerHTML = seconds;
    
    if(seconds === 0){
      if(minutes === 0){
        clearInterval(minutes_interval)
        clearInterval(seconds_interval)
        
        document.getElementById("done").innerHTML = `Session completed, Take a <span>break!</span>`;
        bell.play()
      }
      seconds = 60
    }
  }
}

function reset(){
	let minutes = 25;
	let seconds = "0 0";
	
	// CLEAR ALL INTERVALS
	clearInterval(minutes_interval)
        clearInterval(seconds_interval)
}

</script>
</body>
</html>
